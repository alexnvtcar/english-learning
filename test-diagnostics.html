<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-button {
            background: #007aff;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin: 10px 0;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .test-button.ios {
            background: #f59e0b;
        }
        .test-button.diagnostic {
            background: #3b82f6;
        }
        .log {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            font-family: monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß –¢–µ—Å—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏</h1>
        <p>–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞—é—Ç –ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.</p>
        
        <button class="test-button" onclick="testOpenMainApp()">
            üè† –û—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        </button>
        
        <button class="test-button" onclick="testOpenTestPages()">
            üß™ –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        </button>
        
        <button class="test-button ios" onclick="testIOSSync()">
            üçé –¢–µ—Å—Ç iOS —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
        </button>
        
        <button class="test-button diagnostic" onclick="testDiagnostics()">
            üîç –¢–µ—Å—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
        </button>
        
        <button class="test-button" onclick="clearLog()">
            üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥
        </button>
        
        <div id="log" class="log"></div>
    </div>

    <script>
        function log(message) {
            const logDiv = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            logDiv.innerHTML += `[${timestamp}] ${message}<br>`;
            logDiv.scrollTop = logDiv.scrollHeight;
            console.log(message);
        }

        function testOpenMainApp() {
            log('üè† –û—Ç–∫—Ä—ã—Ç–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');
            window.open('index.html', '_blank');
        }

        function testOpenTestPages() {
            log('üß™ –û—Ç–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü...');
            const testPages = ['test.html', 'test-app-ios.html', 'test-iphone.html'];
            testPages.forEach(page => {
                log(`  - –û—Ç–∫—Ä—ã—Ç–∏–µ ${page}`);
                window.open(page, '_blank');
            });
        }

        function testIOSSync() {
            log('üçé –¢–µ—Å—Ç iOS —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏...');
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            log(`  - iOS —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${isIOS ? '–î–∞' : '–ù–µ—Ç'}`);
            log(`  - User Agent: ${navigator.userAgent}`);
            log(`  - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: ${navigator.platform}`);
            log(`  - –û–Ω–ª–∞–π–Ω: ${navigator.onLine}`);
        }

        function testDiagnostics() {
            log('üîç –¢–µ—Å—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏...');
            log('  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–π...');
            
            const functions = [
                'openTestPage',
                'showTestSelector', 
                'forceIOSSync',
                'diagnoseIOSSync',
                'showTechDiagnosticsBlock'
            ];
            
            functions.forEach(func => {
                const available = typeof window[func] === 'function';
                log(`  - ${func}: ${available ? '‚úÖ –î–æ—Å—Ç—É–ø–Ω–∞' : '‚ùå –ù–µ–¥–æ—Å—Ç—É–ø–Ω–∞'}`);
            });
        }

        function clearLog() {
            document.getElementById('log').innerHTML = '';
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', function() {
            log('üöÄ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
            testDiagnostics();
        });
    </script>
</body>
</html>

